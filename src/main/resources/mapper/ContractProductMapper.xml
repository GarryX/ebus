<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.athome.ebusiness.domain.ContractProduct">
	<resultMap id="contractProductRM" type="com.athome.ebusiness.domain.ContractProduct">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Mon May 30 
			11:12:13 CST 2016. -->
		<id column="CONTRACT_PRODUCT_ID" property="id" jdbcType="VARCHAR" />
		<result column="CONTRACT_ID" property="contractId" jdbcType="VARCHAR" />
		<result column="FACTORY_ID" property="factoryId" jdbcType="VARCHAR" />
		<result column="EXPORT_LIST_ID" property="exportListId"
			jdbcType="VARCHAR" />
		<result column="INVOICE_ID" property="invoiceId" jdbcType="VARCHAR" />
		<result column="PRODUCT_NAME" property="productName" jdbcType="VARCHAR" />
		<result column="PRODUCT_NO" property="productNo" jdbcType="VARCHAR" />
		<result column="PRODUCT_IMAGE" property="productImage"
			jdbcType="VARCHAR" />
		<result column="PRODUCT_DESC" property="productDesc" jdbcType="VARCHAR" />
		<result column="LOADING_RATE" property="loadingRate" jdbcType="VARCHAR" />
		<result column="PACKING_UNIT" property="packingUnit" jdbcType="VARCHAR" />
		<result column="CNUMBER" property="cnumber" jdbcType="INTEGER" />
		<result column="OUT_NUMBER" property="outNumber" jdbcType="INTEGER" />
		<result column="FINISHED" property="finished" jdbcType="BIT" />
		<result column="GROSS_WEIGHT" property="grossWeight" jdbcType="DECIMAL" />
		<result column="NET_WEIGHT" property="netWeight" jdbcType="DECIMAL" />
		<result column="CSIZE" property="csize" jdbcType="VARCHAR" />
		<result column="SIZE_LENGTH" property="sizeLength" jdbcType="DECIMAL" />
		<result column="SIZE_WIDTH" property="sizeWidth" jdbcType="DECIMAL" />
		<result column="SIZE_HEIGHT" property="sizeHeight" jdbcType="DECIMAL" />
		<result column="PRODUCT_REQUEST" property="productRequest"
			jdbcType="VARCHAR" />
		<result column="FACTORY_NAME" property="factoryName" jdbcType="VARCHAR" />
		<result column="PRICE" property="price" jdbcType="DECIMAL" />
		<result column="AMOUNT" property="amount" jdbcType="DECIMAL" />
		<result column="CUNIT" property="cunit" jdbcType="VARCHAR" />
		<result column="BOX_NUM" property="boxNum" jdbcType="INTEGER" />
		<result column="EX_PRICE" property="exPrice" jdbcType="DECIMAL" />
		<result column="EX_AMOUNT" property="exAmount" jdbcType="DECIMAL" />
		<result column="EX_UNIT" property="exUnit" jdbcType="VARCHAR" />
		<result column="NO_TAX" property="noTax" jdbcType="DECIMAL" />
		<result column="TAX" property="tax" jdbcType="DECIMAL" />
		<result column="COST_PRICE" property="costPrice" jdbcType="DECIMAL" />
		<result column="COST_TAX" property="costTax" jdbcType="DECIMAL" />
		<result column="ACCESSORIES" property="accessories" jdbcType="BIT" />
		<result column="ORDER_NO" property="orderNo" jdbcType="INTEGER" />
		<result column="EXTS" property="exts" jdbcType="VARCHAR" />
	</resultMap>
	<select id="getAll" parameterType="map" resultMap="contractProductRM">
		select

		CONTRACT_PRODUCT_ID, CONTRACT_ID, FACTORY_ID, EXPORT_LIST_ID,
		INVOICE_ID, PRODUCT_NAME,
		PRODUCT_NO, PRODUCT_IMAGE, PRODUCT_DESC,
		LOADING_RATE, PACKING_UNIT,
		CNUMBER, OUT_NUMBER,
		FINISHED, GROSS_WEIGHT,
		NET_WEIGHT, CSIZE, SIZE_LENGTH, SIZE_WIDTH,
		SIZE_HEIGHT,
		PRODUCT_REQUEST, FACTORY_NAME, PRICE, AMOUNT, CUNIT, BOX_NUM,
		EX_PRICE, EX_AMOUNT,
		EX_UNIT, NO_TAX, TAX, COST_PRICE, COST_TAX,
		ACCESSORIES, ORDER_NO,
		EXTS

		from contract_product_c
		<if test="contractId != null">where CONTRACT_ID = #{contractId}</if>
	</select>
	<select id="get" parameterType="string" resultMap="contractProductRM">
		select

		CONTRACT_PRODUCT_ID, CONTRACT_ID, FACTORY_ID, EXPORT_LIST_ID,
		INVOICE_ID, PRODUCT_NAME,
		PRODUCT_NO, PRODUCT_IMAGE, PRODUCT_DESC,
		LOADING_RATE, PACKING_UNIT,
		CNUMBER, OUT_NUMBER,
		FINISHED, GROSS_WEIGHT,
		NET_WEIGHT, CSIZE, SIZE_LENGTH, SIZE_WIDTH,
		SIZE_HEIGHT,
		PRODUCT_REQUEST, FACTORY_NAME, PRICE, AMOUNT, CUNIT, BOX_NUM,
		EX_PRICE, EX_AMOUNT,
		EX_UNIT, NO_TAX, TAX, COST_PRICE, COST_TAX,
		ACCESSORIES, ORDER_NO,
		EXTS

		from contract_product_c
		where
		CONTRACT_PRODUCT_ID = #{pid,jdbcType=VARCHAR}
	</select>

	<insert id="insert" parameterType="com.athome.ebusiness.domain.ContractProduct">
		insert into contract_product_c
		(CONTRACT_PRODUCT_ID, CONTRACT_ID,
		FACTORY_ID,
		FACTORY_NAME, PRODUCT_NO,
		PRODUCT_IMAGE,
		PRODUCT_DESC, CNUMBER, OUT_NUMBER,
		LOADING_RATE, BOX_NUM,
		PACKING_UNIT,
		PRICE, AMOUNT, FINISHED,
		EXTS, ORDER_NO)
		values
		(#{id,jdbcType=VARCHAR}, #{contractId,jdbcType=VARCHAR},
		#{factoryId,jdbcType=VARCHAR},
		#{factoryName,jdbcType=VARCHAR},
		#{productNo,jdbcType=VARCHAR}, #{productImage,jdbcType=VARCHAR},
		#{productDesc,jdbcType=VARCHAR}, #{cnumber,jdbcType=DECIMAL},
		#{outNumber,jdbcType=DECIMAL},
		#{loadingRate,jdbcType=VARCHAR},
		#{boxNum,jdbcType=DECIMAL}, #{packingUnit,jdbcType=VARCHAR},
		#{price,jdbcType=DECIMAL}, #{amount,jdbcType=DECIMAL},
		#{finished,jdbcType=DECIMAL},
		#{exts,jdbcType=VARCHAR},
		#{orderNo,jdbcType=DECIMAL})
	</insert>

	<update id="update" parameterType="com.athome.ebusiness.domain.ContractProduct">
		update contract_product_c
		<set>
			<if test="contractId != null">
				CONTRACT_ID = #{contractId,jdbcType=VARCHAR},
			</if>
			<if test="factoryId != null">
				FACTORY_ID = #{factoryId,jdbcType=VARCHAR},
			</if>
			<if test="factoryName != null">
				FACTORY_NAME = #{factoryName,jdbcType=VARCHAR},
			</if>
			<if test="productNo != null">
				PRODUCT_NO = #{productNo,jdbcType=VARCHAR},
			</if>
			<if test="productImage != null">
				PRODUCT_IMAGE = #{productImage,jdbcType=VARCHAR},
			</if>
			<if test="productDesc != null">
				PRODUCT_DESC = #{productDesc,jdbcType=VARCHAR},
			</if>
			<if test="cnumber != null">
				CNUMBER = #{cnumber,jdbcType=DECIMAL},
			</if>
			<if test="outNumber != null">
				OUT_NUMBER = #{outNumber,jdbcType=DECIMAL},
			</if>
			<if test="loadingRate != null">
				LOADING_RATE = #{loadingRate,jdbcType=VARCHAR},
			</if>
			<if test="boxNum != null">
				BOX_NUM = #{boxNum,jdbcType=DECIMAL},
			</if>
			<if test="packingUnit != null">
				PACKING_UNIT = #{packingUnit,jdbcType=VARCHAR},
			</if>
			<if test="price != null">
				PRICE = #{price,jdbcType=DECIMAL},
			</if>
			<if test="amount != null">
				AMOUNT = #{amount,jdbcType=DECIMAL},
			</if>
			<if test="finished != null">
				FINISHED = #{finished,jdbcType=DECIMAL},
			</if>
			<if test="exts != null">
				EXTS = #{exts,jdbcType=VARCHAR},
			</if>
			<if test="orderNo != null">
				ORDER_NO = #{orderNo,jdbcType=DECIMAL},
			</if>
		</set>
		where CONTRACT_PRODUCT_ID = #{id,jdbcType=VARCHAR}
	</update>

	<delete id="deleteById" parameterType="string">
		delete from
		contract_product_c
		where CONTRACT_PRODUCT_ID = #{pid,jdbcType=VARCHAR}
	</delete>

	<delete id="delete" parameterType="string">
		delete from contract_product_c
		where CONTRACT_PRODUCT_ID in
		<foreach collection="array" item="id" open="(" close=")"
			separator=",">
			#{id}
		</foreach>
	</delete>

	<!-- 按合同id删除其合同下的所有货物信息 -->
	<delete id="deleteByContractId" parameterType="String">
		delete from contract_product_c
		where contract_id=#{contractId}
	</delete>
</mapper>